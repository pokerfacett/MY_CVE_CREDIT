## Background
Allwinner R818 SoC is made for smart speakers with a screen which is a processor for use in Android-based
It integrates quad-core 64-bit CortexTM-A53 CPU and Imagination PowerVR GE8300 GPU to ensure response rapidity and
running smoothness for daily application, such as on-line video, web browsing, and so on

## Description

aw_display service is a vendor service in allwinner equipment which do not check the caller's permission which a third-party app could change system settings 

## Affect Versions

Soc: Allwinner R818 

System: R818 Android Q 

SDK Version: V1.0 

## POC

The aw_display service did not verify the caller's permissions
 
![image](https://user-images.githubusercontent.com/13774458/129026981-46e01da0-38fb-4f61-83eb-c2dd1df8fd48.png)

Poc

![image](https://user-images.githubusercontent.com/13774458/129027000-86e3c64b-5534-492e-b60a-6b9b00772b2b.png)

 
After running the poc, you can see that the color temperature, contrast, saturation and other attributes have been changed in the system settings.

![image](https://user-images.githubusercontent.com/13774458/129027008-50c056e7-fa56-4337-9c65-4c2f3524f57c.png)

 
## Patch
The patch of Allwinner is as follow:

![image](https://user-images.githubusercontent.com/13774458/129028427-4403c2f0-be82-455a-87c2-16a1e8af4907.png)

## Reporter

Lewei Qu and Dongxiang Ke



## References
https://www.cnvd.org.cn/flaw/show/CNVD-2021-46927

https://vul.wangan.com/a/CNVD-2021-46927

https://www.allwinnertech.com/index.php?c=product&a=index&id=92
